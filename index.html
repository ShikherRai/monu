<!-- Minimal HTL login page for testing purposes (uses style.css) -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Login</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="card">
    <h1>Sign in</h1>
    <p class="desc">Enter your credentials to access the test area.</p>

    <!-- Display an error if present (set ?error=true&errorMessage=... in query for testing) -->
    <div data-sly-test="${request.getParameter('error')}" class="error" role="alert" aria-live="polite">
      ${request.getParameter('errorMessage') @ context='text'}
    </div>

    <!-- Simple form. For testing you can POST to /bin/login or adjust action as needed. -->
    <form action="/bin/login" method="post" class="login-form" novalidate>
      <label for="username">Username</label>
      <input id="username" name="username" type="text"
             value="${request.getParameter('username') @ context='text'}"
             placeholder="your.username" required autocomplete="username" />

      <label for="password">Password</label>
      <div class="password-wrapper">
        <input id="password" name="password" type="password" placeholder="••••••••" required
               autocomplete="current-password" />
        <button type="button" class="pw-toggle" aria-label="Show password" aria-pressed="false">
          Show
        </button>
      </div>

      <div class="actions">
        <label class="remember">
          <input type="checkbox" name="remember" />
          Remember me
        </label>
        <button type="submit">Log in</button>
      </div>

      <!-- Helpful test links / notes (non-functional placeholders) -->
      <p class="small">For testing: append ?error=true&errorMessage=Invalid+credentials to the URL to show the error box.</p>
    </form>
  </div>

  <!-- Small unobtrusive script to handle the password visibility toggle -->
  <script>
    (function () {
      var toggle = document.querySelector('.pw-toggle');
      if (!toggle) return;
      var input = document.getElementById('password');

      toggle.addEventListener('click', function () {
        var isPassword = input.type === 'password';
        input.type = isPassword ? 'text' : 'password';
        this.textContent = isPassword ? 'Hide' : 'Show';
        this.setAttribute('aria-label', isPassword ? 'Hide password' : 'Show password');
        this.setAttribute('aria-pressed', String(isPassword));
      });
    })();
  </script>
</body>
</html>
